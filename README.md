# design-pattern
## 一、责任链模式
###  1.1、拦截器链、拦截器在方法内实现即局部内部类
#### 1.1.1、使用局部内部类实现拦截器的好处是参数的访问
#### 1.1.2、使用局部内部类的不友好的一面是方法比价臃肿，可读性差
#### 1.1.3、写这种实现方式是想试验一下逃逸分析技术的使用和HotSpot
#### 1.1.4、使用局部内部类和工具类的性能差别是否明显、孰优孰劣之后做一个测试

## 二、责任链模式外部类、内部类、内部类满足逃逸分析
### 2.1、三种情况粗略测试结果：
#### 2.1.1、外部类实现方式执行10亿次耗时：14秒左右
#### 2.1.2、内部类实现不满足逃逸分析方式执行10亿次耗时：110秒左右
#### 2.1.3、内部类实现满足逃逸分析方式执行10亿次耗时：2秒左右
#### 2.1.4、内部类实现满足逃逸分析方式但强制关闭逃逸分析执行10亿次耗时：20秒左右
#### 2.1.5、所有方法都耦合在方法中执行10亿次耗时：2秒左右
#### 2.1.6、方法==逃逸分析内部类<外部类<内部类不满足逃逸分析

## 三、逃逸分析
### 3.1、逃逸分析技术
#### 3.1.1、 如果代码满足逃逸分析则对象会被分配在栈内存而不知堆内存从而减少了堆垃圾、也减少了对象分配锁竞争
### 3.2、逃逸技术在JDK1.8中是自动开启的
### 3.3、强制关闭逃逸分析技术 -XX:-DoEscapeAnalysis


